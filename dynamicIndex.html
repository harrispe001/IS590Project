<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!--The sensor listings will appear in the following tag -->
    <p id="sensorlistings"></p>
    <button onclick="showSensorItems()">Show Sensor Items</button>
    <script>
      // replace this with your own custom APIlet API
      APIUrl = "https://ck8vh2jy5l.execute-api.us-east-1.amazonaws.com";
      function showSensorItems() {
        fetch(APIUrl + "/items")
          .then((response) => response.json())
          .then((data) => parseSensorAPIData(data));
      }
      function parseSensorAPIData(data) {
        // An array of Items is returned, loop through them and print their values
        if (data.Items.length > 0) {
          for (let iCount = 0; iCount < data.Items.length; iCount++) {
            var src = JSON.stringify(data.Items[iCount].URL);
            var name = JSON.stringify(data.Items[iCount].Name);
            document.getElementById("sensorlistings").innerHTML +=
              `<h1>${name}</h1>` + "<br>";
            document.getElementById("sensorlistings").innerHTML +=
              `<img src=${src} />` + "<br>";
          }
        }
      }
    </script>
  </body>
</html>
